{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\WEB\\\\desktop\\\\dgeri\\\\discogs_react-api\\\\src\\\\components\\\\Search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Search() {\n  _s();\n\n  const [items, setItems] = useState(() => {\n    const localData = sessionStorage.getItem(\"items\");\n    return localData ? JSON.parse(localData) : [];\n  });\n\n  const fetchItems = async e => {\n    e.preventDefault();\n    const artist = e.target.elements.artist.value;\n    const data = await fetch(`https://api.discogs.com/database/search?q=+${artist}&type=releases&key=MiXYmphrxbtTHSxwQtJi&secret=BZhDrPYdzbvEylDLQvxJsHtRGNwRztqO`);\n    const items = await data.json(); // console.log(items.results);\n\n    items.results.map(elem => {\n      console.log(elem);\n    });\n    setItems(items.results);\n  };\n\n  useEffect(() => {\n    sessionStorage.setItem(\"items\", JSON.stringify(items));\n  }, [items]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Search\",\n    children: [/*#__PURE__*/_jsxDEV(Form, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), items.map(item => /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"search-item\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        className: \"search-links\",\n        to: `/search/${item.id}`,\n        children: item.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this)\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n\n  function Form() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: fetchItems,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"artist\",\n        placeholder: \"search...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button-search\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(Search, \"DA+PvEFbuUc2kG1O7+GIeLEPbMw=\");\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["C:/Users/WEB/desktop/dgeri/discogs_react-api/src/components/Search.js"],"names":["React","useState","useEffect","Link","Search","items","setItems","localData","sessionStorage","getItem","JSON","parse","fetchItems","e","preventDefault","artist","target","elements","value","data","fetch","json","results","map","elem","console","log","setItem","stringify","item","id","title","Form"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,WAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;;;AAEA,SAASC,MAAT,GAAkB;AAAA;;AAChB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,MAAM;AACvC,UAAMM,SAAS,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAlB;AACA,WAAOF,SAAS,GAAGG,IAAI,CAACC,KAAL,CAAWJ,SAAX,CAAH,GAA2B,EAA3C;AACD,GAHiC,CAAlC;;AAKA,QAAMK,UAAU,GAAG,MAAMC,CAAN,IAAW;AAC5BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,MAAM,GAAGF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBF,MAAlB,CAAyBG,KAAxC;AACA,UAAMC,IAAI,GAAG,MAAMC,KAAK,CACrB,8CAA6CL,MAAO,iFAD/B,CAAxB;AAGA,UAAMV,KAAK,GAAG,MAAMc,IAAI,CAACE,IAAL,EAApB,CAN4B,CAO5B;;AACAhB,IAAAA,KAAK,CAACiB,OAAN,CAAcC,GAAd,CAAkBC,IAAI,IAAE;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACD,KAFD;AAGAlB,IAAAA,QAAQ,CAACD,KAAK,CAACiB,OAAP,CAAR;AACD,GAZD;;AAcApB,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,cAAc,CAACmB,OAAf,CAAuB,OAAvB,EAAgCjB,IAAI,CAACkB,SAAL,CAAevB,KAAf,CAAhC;AACD,GAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA,4BACE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,YADF,EAEGA,KAAK,CAACkB,GAAN,CAAUM,IAAI,iBACb;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,SAAS,EAAC,cAAhB;AAA+B,QAAA,EAAE,EAAG,WAAUA,IAAI,CAACC,EAAG,EAAtD;AAAA,kBACGD,IAAI,CAACE;AADR;AAAA;AAAA;AAAA;AAAA;AADF,OAAiCF,IAAI,CAACC,EAAtC;AAAA;AAAA;AAAA;AAAA,YADD,CAFH;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;;AAYA,WAASE,IAAT,GAAgB;AACd,wBACE;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAuB,MAAA,QAAQ,EAAEpB,UAAjC;AAAA,8BACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,QAAxB;AAAiC,QAAA,WAAW,EAAC;AAA7C;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAQ,QAAA,SAAS,EAAC,eAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMD;AACF;;GA5CQR,M;;KAAAA,M;AA8CT,eAAeA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Search() {\r\n  const [items, setItems] = useState(() => {\r\n    const localData = sessionStorage.getItem(\"items\");\r\n    return localData ? JSON.parse(localData) : [];\r\n  });\r\n\r\n  const fetchItems = async e => {\r\n    e.preventDefault();\r\n    const artist = e.target.elements.artist.value;\r\n    const data = await fetch(\r\n      `https://api.discogs.com/database/search?q=+${artist}&type=releases&key=MiXYmphrxbtTHSxwQtJi&secret=BZhDrPYdzbvEylDLQvxJsHtRGNwRztqO`\r\n    );\r\n    const items = await data.json();\r\n    // console.log(items.results);\r\n    items.results.map(elem=>{\r\n      console.log(elem)\r\n    })\r\n    setItems(items.results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    sessionStorage.setItem(\"items\", JSON.stringify(items));\r\n  }, [items]);\r\n\r\n  return (\r\n    <div className=\"Search\">\r\n      <Form />\r\n      {items.map(item => (\r\n        <h1 className=\"search-item\" key={item.id}>\r\n          <Link className=\"search-links\" to={`/search/${item.id}`}>\r\n            {item.title}\r\n          </Link>\r\n        </h1>\r\n      ))}\r\n    </div>\r\n  );\r\n  function Form() {\r\n    return (\r\n      <form className=\"form\" onSubmit={fetchItems}>\r\n        <input type=\"text\" name=\"artist\" placeholder=\"search...\" />\r\n        <button className=\"button-search\"> </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}